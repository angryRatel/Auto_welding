# 🤖 Auto Welding

> 두산 로봇팔(M0609)을 활용하여 **2D/3D 용접 자동화** 및 **충돌 감지 안전 기능**을 구현한 ROS2 기반 협동로봇 프로젝트입니다.

---
### 📄 더 자세한 내용은 아래의 PDF 또는 발표 자료에서 확인하실 수 있습니다.
---

## 🎥 시연 영상  
[![Demo Video](https://img.youtube.com/vi/wykA4MYREYk/0.jpg)](https://youtu.be/wykA4MYREYk)

## 📁 전체 시스템 구성 코드 저장소  
GitHub: [DoosanBootcam3rdCo1](https://github.com/ROKEY-SPARK/DoosanBootcam3rdCo1.git)  
>  `dsr_rokey/rokey/rokey/basic` 경로의 소스를 중심으로 수정 사용

---

## 1. 📊 개발 과정

### 프로젝트 배경

- **용접 인력 부족 문제**  
  미국 기준 2025~2029년까지 매년 8만 명 이상 인력 수요 발생, 누적 공백 32만 명 이상  
- **산업 생산성 향상**  
  중국 제조업체, DOBOT CRA 협동로봇 도입 후 MIG 공정 생산성 30% 향상  
- **작업자 안전 문제**  
  고열, 아크광선, 유해가스, 진동 등으로 인한 위험성 상존  

> **목표** : 작업 자동화로 인력 수요 해소, 생산 효율 및 안전성 향상  

📅 **작업 일정**

| 기간 | 작업 내용 |
|------|-----------|
| 5/14 ~ 5/15 | 기획 및 주제 선정 |
| 5/15 ~ 5/16 | 자료조사 및 레퍼런스 분석 |
| 5/17 ~ 5/18 | 기능별 코드 개발 |
| 5/19 ~ 5/20 | 중간 점검 및 통합 |
| 5/20 ~ 5/21 | 최종 테스트 및 시연 준비 |
| 총 개발 기간 | 8일 (5/14 ~ 5/21) |

---

## 🧪 사용 환경

![개발환경](https://github.com/user-attachments/assets/9129f23b-ecac-4ec5-9c63-fc5bf04a28b9)

---

## 2. 🛠 주요 기능  

-  **규칙적 2D 용접**: 시작점과 도착점을 교시하여 직선 이동  
-  **불규칙 2D 용접**: 이미지 기반 경로 추출 → 좌표 스케일링 → CSV 기반 자동 이동  
-  **규칙적 3D 용접**: 3점 캡처 → 원 중심/반지름 계산 → movec 활용 원호 이동  
-  **충돌 감지 기능**: force 값을 기반으로 경고음, 팝업, 로봇 정지 동작 실행

---

## 3. 💡 도전 과제 & 해결 

| 도전 과제 | 해결 방법 |
|-----------|-----------|
| ROS2에서 원호 구속자세 미지원 | 3점 교시로 중심 계산 후 movec로 구현 |
| 로봇 작업 범위 벗어나는 좌표 발생 | 좌표 스케일링 알고리즘 도입 |
| 외력 감지 민감도 낮음 | threshold 값 조정 및 monitor 함수 구현 |
| Tkinter GUI와 ROS2 간 충돌 | UI 노드와 제어 노드 분리 구조 설계 |

---

## 4. 👥 팀원 역할 분담

| 이름 | 역할 |
|------|------|
| 최정호 | 팀장, 규칙적 2D 용접 경로 구현 |
| 이하빈 | 불규칙적 2D 용접 경로 추출 및 좌표 변환 |
| 이세현 | 규칙적 3D GUI 구현 및 원호 계산 |
| 홍진규 | Force 센서 기반 안전 기능 및 정지 제어 |

프로젝트는 팀원 전체의 협업을 바탕으로 진행되었으며, 핵심 기능은 역할에 따라 분담하여 개발
---

## 5. 🎯 프로젝트 성과

- ROS2 기반 자동 용접 시스템 구조 완성  
- GUI 기반 좌표 캡처, CSV 저장, 원호 계산 기능 통합  
- 충돌 감지 시 경고음 발생 + 팝업 + 동작 정지 기능 구현  
- 프로젝트 시연 100% 성공 (규칙적/불규칙적 2D, 3D, 안전기능 포함)

---

## 6. 📈 프로젝트 결과 (목표와 성과)

- 🎯 **목표**: 협동로봇을 이용한 ROS2 기반 자동화 용접 시스템 구축  
- 🏆 **성과**:  
  - 다양한 용접 방식(2D/3D) 실시간 ROS2 기반 제어 완성  
  - 협업 구조 기반의 병렬 개발 및 통합 시연 성공  
  - 안전 기능 내장으로 산업현장 적용 가능성 입증  

---

## 7. 📸 프로젝트 화면 및 기능 데모 

### ✅ 규칙적 2D 용접  
![2D UI](https://github.com/user-attachments/assets/e469747a-4e20-47d1-b025-00048b228b06)  

### 아키텍처 구조
![2D 통신](https://github.com/user-attachments/assets/a66a08c7-2903-4365-af4d-7555b3660348)

---

### ✅ 불규칙적 2D 용접  
![불규칙 이미지](https://github.com/user-attachments/assets/7cf1485a-9ca2-4930-8a24-a68b1d7a28ff) 
### 아키텍처 구조
![불규칙 노드](https://github.com/user-attachments/assets/52052adb-73c8-47b4-997b-3c75abac1c29)

---

### ✅ 규칙적 3D 용접 (GUI 기반)  
![3D GUI](https://github.com/user-attachments/assets/3616910a-82c0-49c0-b7d4-073c56b5a90b)  
### 아키텍처 구조
![3D 통신](https://github.com/user-attachments/assets/81421d74-08e1-4a6a-a9a2-2ec8a4b83d33)

---

### ✅ 충돌 감지 및 안전 기능  
![안전 코드](https://github.com/user-attachments/assets/bdf16ad0-dcb3-438e-bfac-0f345daa175d)

---

## 8. ✏ 후기 및 향후 개선 사항 

- Tkinter GUI와 ROS2의 스레드 충돌로 완전 통합 어려움 → 노드 분리로 해결  
- ROS2의 기본 API가 원주방향 제어를 직접 지원하지 않음 → movec로 대체  
- **향후 개선**:  
  - 원주 방향 자세 지원 기능 개선  
  - GUI-제어 통합 최적화  
  - 사용자 친화적 인터페이스 추가

---

## 9. 🎓 개인적 성찰 및 배운 점 

- ROS2 통신 구조에 대한 실전 이해  
- 센서 기반 반응형 로봇 동작 설계 경험  
- 협업 기반 개발의 중요성 실감  
- GUI → 센서 → 제어까지의 시스템 통합 흐름에 대한 이해 향상

---

## 10. 🚀 개선 및 확장 아이디어 

- 📸 **Machine Vision 기반 품질 검사 시스템 도입**  
  > - 산업용 카메라 + OpenCV + CNN으로 비드 품질 검사  
- 📶 **MQTT 기반 IoT 통신 구조 확장**  
  > - 원격 제어 및 실시간 상태 모니터링 가능  
- 🤖 **강화학습 기반 자율 궤적 생성 로직 도입**  
- 📱 **모바일 앱 기반 제어 UI 구축**  
  > - 음성 제어 및 사용자 인터페이스 개선 가능

---

> 본 프로젝트는 **협동로봇의 실제 산업 적용 가능성과 스마트 팩토리 내 용접 자동화 솔루션으로서의 활용성**을 실증한 결과물입니다.  
